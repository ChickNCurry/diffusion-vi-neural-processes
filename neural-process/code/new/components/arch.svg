<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="967px" height="776px" viewBox="-0.5 -0.5 967 776" content="&lt;mxfile&gt;&lt;diagram id=&quot;mDNXPp_xGhIweOXCD2YC&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><clipPath id="mx-clip-749-541-152-84-0"><rect x="749" y="541" width="152" height="84"/></clipPath><clipPath id="mx-clip-749-633-152-42-0"><rect x="749" y="633" width="152" height="42"/></clipPath><clipPath id="mx-clip-424-401-222-154-0"><rect x="424" y="401" width="222" height="154"/></clipPath><clipPath id="mx-clip-424-563-222-26-0"><rect x="424" y="563" width="222" height="26"/></clipPath><clipPath id="mx-clip-4-401-182-124-0"><rect x="4" y="401" width="182" height="124"/></clipPath><clipPath id="mx-clip-4-533-182-26-0"><rect x="4" y="533" width="182" height="26"/></clipPath><clipPath id="mx-clip-204-211-222-44-0"><rect x="204" y="211" width="222" height="44"/></clipPath><clipPath id="mx-clip-204-263-222-26-0"><rect x="204" y="263" width="222" height="26"/></clipPath><clipPath id="mx-clip-494-31-152-44-0"><rect x="494" y="31" width="152" height="44"/></clipPath><clipPath id="mx-clip-494-83-152-72-0"><rect x="494" y="83" width="152" height="72"/></clipPath><clipPath id="mx-clip-709-201-152-84-0"><rect x="709" y="201" width="152" height="84"/></clipPath><clipPath id="mx-clip-709-293-152-26-0"><rect x="709" y="293" width="152" height="26"/></clipPath><clipPath id="mx-clip-254-585-102-70-0"><rect x="254" y="585" width="102" height="70"/></clipPath></defs><g><path d="M 490 48 L 316.79 178.65" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 322.36 166.31 L 315.89 179.33 L 330.19 176.69" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="all"/><path d="M 200 228 L 96.33 368.2" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 98.17 354.78 L 95.66 369.1 L 108.62 362.51" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="all"/><path d="M 430 228 L 533.67 368.2" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 521.38 362.51 L 534.34 369.1 L 531.83 354.78" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="all"/><path d="M 650 473 L 822.81 509.54" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 809.84 513.44 L 823.91 509.77 L 812.53 500.72" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="all"/><path d="M 745 536 L 745 510 L 905 510 L 905 536" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all"/><path d="M 745 536 L 745 670 L 905 670 L 905 536" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 745 536 L 905 536" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="824.5" y="527.5">DiffusionProcess</text></g><rect x="745" y="536" width="160" height="84" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-749-541-152-84-0)" font-size="12px"><text x="750.5" y="553.5">+ h_dim: int</text><text x="750.5" y="567.5">+ z_dim: int</text><text x="750.5" y="581.5">+ num_layers: int</text><text x="750.5" y="595.5">+ non_linearity: str</text><text x="750.5" y="609.5">+ num_steps: int</text></g><path d="M 745 624 L 905 624" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="745" y="628" width="160" height="42" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-749-633-152-42-0)" font-size="12px"><text x="750.5" y="645.5">+ forward_transition()</text><text x="750.5" y="659.5">+ backward_transition()</text></g><path d="M 705 746 L 705 720 L 775 720 L 775 746" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 705 746 L 705 754 L 775 754 L 775 746" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 705 746 L 775 746" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="739.5" y="737.5">DIS</text></g><path d="M 705 750 L 775 750" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 740 720 L 759.65 688.15" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 768.57 673.68 L 766.88 692.61 L 752.41 683.69 Z" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 396 L 420 370 L 650 370 L 650 396" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 396 L 420 584 L 650 584 L 650 396" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 396 L 650 396" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="534.5" y="387.5">LatentEncoder</text></g><rect x="420" y="396" width="230" height="154" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-424-401-222-154-0)" font-size="12px"><text x="425.5" y="413.5">+ x_dim: int</text><text x="425.5" y="427.5">+ y_dim: int</text><text x="425.5" y="441.5">+ h_dim: int</text><text x="425.5" y="455.5">+ z_dim: int</text><text x="425.5" y="469.5">+ num_layers: int</text><text x="425.5" y="483.5">+ non_linearity: str</text><text x="425.5" y="497.5">+ aggregation: Aggregation</text><text x="425.5" y="511.5">+ is_attentive: bool</text><text x="425.5" y="525.5">+ diffu_process: DiffusionProcess | None</text><text x="425.5" y="539.5">+ fixed_start_density: bool</text></g><path d="M 420 554 L 650 554" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="558" width="230" height="26" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-424-563-222-26-0)" font-size="12px"><text x="425.5" y="575.5">+ forward()</text></g><path d="M 0 396 L 0 370 L 190 370 L 190 396" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 396 L 0 554 L 190 554 L 190 396" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 396 L 190 396" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="94.5" y="387.5">DeterministicEncoder</text></g><rect x="0" y="396" width="190" height="124" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-401-182-124-0)" font-size="12px"><text x="5.5" y="413.5">+ x_dim: int</text><text x="5.5" y="427.5">+ y_dim: int</text><text x="5.5" y="441.5">+ h_dim: int</text><text x="5.5" y="455.5">+ r_dim: int</text><text x="5.5" y="469.5">+ num_layers: int</text><text x="5.5" y="483.5">+ non_linearity: str</text><text x="5.5" y="497.5">+ aggregation: Aggregation</text><text x="5.5" y="511.5">+ is_attentive: bool</text></g><path d="M 0 524 L 190 524" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="0" y="528" width="190" height="26" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-533-182-26-0)" font-size="12px"><text x="5.5" y="545.5">+ forward()</text></g><path d="M 200 206 L 200 180 L 430 180 L 430 206" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 200 206 L 200 284 L 430 284 L 430 206" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 200 206 L 430 206" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="314.5" y="197.5">Encoder</text></g><rect x="200" y="206" width="230" height="44" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-204-211-222-44-0)" font-size="12px"><text x="205.5" y="223.5">+ det_enc: DeterministicEncoder | None</text><text x="205.5" y="237.5">+ lat_enc: LatentEncoder | None</text></g><path d="M 200 254 L 430 254" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="200" y="258" width="230" height="26" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-204-263-222-26-0)" font-size="12px"><text x="205.5" y="275.5">+ forward()</text></g><path d="M 490 26 L 490 0 L 650 0 L 650 26" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 490 26 L 490 150 L 650 150 L 650 26" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 490 26 L 650 26" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="569.5" y="17.5">NeuralProcess</text></g><rect x="490" y="26" width="160" height="44" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-494-31-152-44-0)" font-size="12px"><text x="495.5" y="43.5">+ encoder: Encoder</text><text x="495.5" y="57.5">+ decoder: Decoder</text></g><path d="M 490 74 L 650 74" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="490" y="78" width="160" height="72" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-494-83-152-72-0)" font-size="12px"><text x="495.5" y="95.5">+ encode()</text><text x="495.5" y="109.5">+ decode()</text><text x="495.5" y="123.5">+ forward()</text><text x="495.5" y="137.5">+ sample()</text></g><path d="M 705 196 L 705 170 L 865 170 L 865 196" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 705 196 L 705 314 L 865 314 L 865 196" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 705 196 L 865 196" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="784.5" y="187.5">Decoder</text></g><rect x="705" y="196" width="160" height="84" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-709-201-152-84-0)" font-size="12px"><text x="710.5" y="213.5">+ input_dim: int</text><text x="710.5" y="227.5">+ h_dim: int</text><text x="710.5" y="241.5">+ y_dim:int</text><text x="710.5" y="255.5">+ num_layers: int</text><text x="710.5" y="269.5">+ non_linearity: str</text></g><path d="M 705 284 L 865 284" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="705" y="288" width="160" height="26" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-709-293-152-26-0)" font-size="12px"><text x="710.5" y="305.5">+ forward()</text></g><path d="M 650 48 L 783.34 168.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 770.17 165.36 L 784.17 169.25 L 778.88 155.71" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 805 766 L 805 740 L 875 740 L 875 766" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 805 766 L 805 774 L 875 774 L 875 766" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 805 766 L 875 766" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="839.5" y="757.5">ULA</text></g><path d="M 805 770 L 875 770" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 895 766 L 895 740 L 965 740 L 965 766" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 895 766 L 895 774 L 965 774 L 965 766" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 895 766 L 965 766" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="929.5" y="757.5">MCD</text></g><path d="M 895 770 L 965 770" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 740 L 833.39 688.43" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 831.22 671.57 L 841.82 687.35 L 824.95 689.51 Z" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 930 740 L 885.77 683.55" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 875.29 670.17 L 892.46 678.31 L 879.08 688.79 Z" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 250 580 L 250 540 L 360 540 L 360 580" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 250 580 L 250 650 L 360 650 L 360 580" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 250 580 L 360 580" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g fill="#333333" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="304.5" y="557.5">&lt;&lt;Enum&gt;&gt;</text><text x="304.5" y="571.5">Aggregation</text></g><rect x="250" y="580" width="110" height="70" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g fill="#333333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-254-585-102-70-0)" font-size="12px"><text x="255.5" y="597.5">MEAN</text><text x="255.5" y="611.5">SUM</text><text x="255.5" y="625.5">MAX</text><text x="255.5" y="639.5">MIN</text></g><path d="M 190 458 L 275.87 538.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 262.75 535.09 L 276.68 539.24 L 271.64 525.6" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 473 L 334.28 538.64" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 339.76 526.26 L 333.39 539.32 L 347.66 536.58" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/></g></svg>